import{s as ve,n as fe,o as _e}from"../chunks/scheduler.BvLojk_z.js";import{S as Ee,i as ge,e as v,b as o,s as j,c as _,d as g,f as i,g as d,h as R,y as be,o as T,j as oe,k as l,z as we,l as I,A as Ae}from"../chunks/index.D41oFo3C.js";import{b as Pe}from"../chunks/paths.83_1im6K.js";function he(s){return(s==null?void 0:s.length)!==void 0?s:Array.from(s)}const ye=["1","2","3","4","5","6"],Ie=["先锋","近卫","狙击","重装","医疗","术师","特种","辅助"],Me={先锋:["冲锋手","尖兵","情报官","战术家","执旗手"],近卫:["剑豪","强攻手","撼地者","收割者","教官","斗士","无畏者","术战者","武者","解放者","重剑手","领主"],重装:["不屈者","决战者","哨戒铁卫","守护者","要塞","铁卫","驭法铁卫"],狙击:["回环射手","投掷手","攻城手","散射手","炮手","猎手","神射手","速射手","重射手"],术师:["中坚术师","扩散术师","本源术师","秘术师","轰击术师","链术师","阵法术师","驭械术师"],医疗:["医师","咒愈师","疗养师","群愈师","行医","链愈师"],辅助:["凝滞师","削弱者","召唤师","吟游者","工匠","巫役","护佑者"],特种:["伏击客","傀儡师","处决者","怪杰","推击手","行商","钩索师","陷阱师"]},Se=["罗德岛","炎","炎-龙门","阿戈尔","哥伦比亚","东","伊比利亚","卡西米尔","谢拉格","拉特兰","莱塔尼亚","米诺斯","雷姆必拓","萨米","萨尔贡","叙拉古","乌萨斯","维多利亚","玻利瓦尔","罗德岛-精英干员","S.W.E.E.P.","巴别塔","深海猎人","黑钢国际","格拉斯哥帮","喀兰贸易","龙门近卫局","企鹅物流","莱茵生命","汐斯塔","炎-岁","行动组A4","行动预备组A1","行动预备组A4","行动预备组A6","贾维团伙","使徒","红松骑士团","鲤氏侦探事务所","彩虹小队","乌萨斯学生自治团"],ke=["龙","黎博利","麒麟","鲁珀","鬼","阿达克利斯","阿纳萨","阿纳缇","阿斯兰","阿戈尔","萨科塔","萨弗拉","萨卡兹","菲林","皮洛萨","瓦伊凡","瑞柏巴","沃尔珀","杜林","札拉克","曼提柯","斐迪亚","德拉克","库兰塔","安努拉","奇美拉","塞拉托","埃拉菲亚","卡特斯","卡普里尼","匹特拉姆","依特拉","佩洛","乌萨斯","丰蹄","精灵","未公开/不公开","未知","其他"],Ce=["龙门","雷姆必拓","阿戈尔","谢拉格","萨米","萨尔贡","莱塔尼亚","罗德岛","维多利亚","米诺斯","瓦伊凡","玻利瓦尔","炎","汐斯塔","拉特兰","哥伦比亚","叙拉古","卡西米尔","卡兹戴尔","伊比利亚","乌萨斯","东","杜林","未公开/不公开","未知","其他"];function Q(s){return s[Math.floor(Math.random()*s.length)]}async function De(){return await fetch(`${Pe}/opdata.json`).then(t=>t.json()).then(t=>t).catch(t=>console.log(t))}function pe(s,t){let a=0;s.profession===t.profession&&(s.childcar===t.childcar?a+=1:a+=.75),s.faction==t.faction&&(a+=1),s.ray===t.ray&&(a+=1),s.ori===t.ori&&(a+=1);const e=Math.abs(Number(s.rarity)-Number(t.rarity)+1),n=Math.abs(5-e)/5;return a=a+n,a=a/5,a=Math.round(a*100)/100,a}async function Ne(s){const t=await De(),a=[];for(let e=0;e<t[1].length;e++)a.push({name:t[1][e].name,sim:pe(s,t[1][e]),faction:t[1][e].faction,ray:t[1][e].ray,profession:t[1][e].profession,ori:t[1][e].ori,rarity:t[1][e].rarity,childcar:t[1][e].childcar});for(let e=0;e<t[2].length;e++)a.push({name:t[2][e].name,sim:pe(s,t[2][e]),faction:t[2][e].faction,ray:t[2][e].ray,profession:t[2][e].profession,ori:t[2][e].ori,rarity:t[2][e].rarity,childcar:t[2][e].childcar});return a.sort((e,n)=>n.sim-e.sim),a.slice(0,3)}function ue(s,t,a){const e=s.slice();return e[11]=t[a],e}function de(s){let t,a=he(s[6]),e=[];for(let n=0;n<a.length;n+=1)e[n]=me(ue(s,a,n));return{c(){t=v("div");for(let n=0;n<e.length;n+=1)e[n].c();this.h()},l(n){t=_(n,"DIV",{class:!0});var f=g(t);for(let r=0;r<e.length;r+=1)e[r].l(f);f.forEach(d),this.h()},h(){T(t,"class","operator_cards svelte-102cwia")},m(n,f){oe(n,t,f);for(let r=0;r<e.length;r+=1)e[r]&&e[r].m(t,null)},p(n,f){if(f&64){a=he(n[6]);let r;for(r=0;r<a.length;r+=1){const b=ue(n,a,r);e[r]?e[r].p(b,f):(e[r]=me(b),e[r].c(),e[r].m(t,null))}for(;r<e.length;r+=1)e[r].d(1);e.length=a.length}},d(n){n&&d(t),Ae(e,n)}}}function me(s){let t,a,e,n=s[11].name+"",f,r,b,c,w,C,y=(s[11].sim*100).toString().slice(0,4)+"",D,N,W,O,V,U=s[11].profession+"",q,F,A,K,z=s[11].childcar+"",M,G,B,p,h=s[11].faction+"",m,S,u,J,H=parseInt(s[11].rarity)+1+"",Y,x,L,ee,X=s[11].ori+"",Z,te;return{c(){t=v("div"),a=v("header"),e=v("a"),f=o(n),b=j(),c=v("section"),w=v("p"),C=o("相似度："),D=o(y),N=o("%"),W=j(),O=v("p"),V=o("职业："),q=o(U),F=j(),A=v("p"),K=o("子职业: "),M=o(z),G=j(),B=v("p"),p=o("阵营："),m=o(h),S=j(),u=v("p"),J=o("星级："),Y=o(H),x=j(),L=v("p"),ee=o("出生地："),Z=o(X),te=j(),this.h()},l(P){t=_(P,"DIV",{class:!0});var E=g(t);a=_(E,"HEADER",{class:!0});var ie=g(a);e=_(ie,"A",{href:!0});var ce=g(e);f=i(ce,n),ce.forEach(d),ie.forEach(d),b=R(E),c=_(E,"SECTION",{class:!0});var k=g(c);w=_(k,"P",{});var $=g(w);C=i($,"相似度："),D=i($,y),N=i($,"%"),$.forEach(d),W=R(k),O=_(k,"P",{});var ae=g(O);V=i(ae,"职业："),q=i(ae,U),ae.forEach(d),F=R(k),A=_(k,"P",{});var se=g(A);K=i(se,"子职业: "),M=i(se,z),se.forEach(d),G=R(k),B=_(k,"P",{});var le=g(B);p=i(le,"阵营："),m=i(le,h),le.forEach(d),S=R(k),u=_(k,"P",{});var ne=g(u);J=i(ne,"星级："),Y=i(ne,H),ne.forEach(d),x=R(k),L=_(k,"P",{});var re=g(L);ee=i(re,"出生地："),Z=i(re,X),re.forEach(d),k.forEach(d),te=R(E),E.forEach(d),this.h()},h(){T(e,"href",r=`https://prts.wiki/w/${s[11].name}`),T(a,"class","card-header"),T(c,"class","p-4"),T(t,"class","card p-4 card-hover block operator_card svelte-102cwia")},m(P,E){oe(P,t,E),l(t,a),l(a,e),l(e,f),l(t,b),l(t,c),l(c,w),l(w,C),l(w,D),l(w,N),l(c,W),l(c,O),l(O,V),l(O,q),l(c,F),l(c,A),l(A,K),l(A,M),l(c,G),l(c,B),l(B,p),l(B,m),l(c,S),l(c,u),l(u,J),l(u,Y),l(c,x),l(c,L),l(L,ee),l(L,Z),l(t,te)},p(P,E){E&64&&n!==(n=P[11].name+"")&&I(f,n),E&64&&r!==(r=`https://prts.wiki/w/${P[11].name}`)&&T(e,"href",r),E&64&&y!==(y=(P[11].sim*100).toString().slice(0,4)+"")&&I(D,y),E&64&&U!==(U=P[11].profession+"")&&I(q,U),E&64&&z!==(z=P[11].childcar+"")&&I(M,z),E&64&&h!==(h=P[11].faction+"")&&I(m,h),E&64&&H!==(H=parseInt(P[11].rarity)+1+"")&&I(Y,H),E&64&&X!==(X=P[11].ori+"")&&I(Z,X)},d(P){P&&d(t)}}}function Oe(s){let t,a,e,n,f,r,b,c,w,C,y,D,N,W,O,V,U,q,F,A,K="再次转生",z,M,G,B,p=s[7]&&de(s);return{c(){t=v("main"),a=v("div"),e=v("p"),n=o("你是出生在"),f=o(s[4]),r=o("现隶属于"),b=o(s[2]),c=o("阵营的"),w=o(s[0]),C=o(",你的职业是"),y=o(s[3]),D=o("星"),N=o(s[1]),W=o("。"),O=j(),V=v("p"),U=o("你的子职业是"),q=o(s[5]),F=j(),A=v("button"),A.textContent=K,z=j(),M=v("div"),p&&p.c(),this.h()},l(h){t=_(h,"MAIN",{class:!0});var m=g(t);a=_(m,"DIV",{class:!0});var S=g(a);e=_(S,"P",{});var u=g(e);n=i(u,"你是出生在"),f=i(u,s[4]),r=i(u,"现隶属于"),b=i(u,s[2]),c=i(u,"阵营的"),w=i(u,s[0]),C=i(u,",你的职业是"),y=i(u,s[3]),D=i(u,"星"),N=i(u,s[1]),W=i(u,"。"),u.forEach(d),O=R(S),V=_(S,"P",{});var J=g(V);U=i(J,"你的子职业是"),q=i(J,s[5]),J.forEach(d),F=R(S),A=_(S,"BUTTON",{class:!0,"data-svelte-h":!0}),be(A)!=="svelte-knipvf"&&(A.textContent=K),z=R(S),M=_(S,"DIV",{class:!0});var H=g(M);p&&p.l(H),H.forEach(d),S.forEach(d),m.forEach(d),this.h()},h(){T(A,"class","btn variant-soft btn_ma svelte-102cwia"),T(M,"class","operator_side svelte-102cwia"),T(a,"class","operator_main svelte-102cwia"),T(t,"class","svelte-102cwia")},m(h,m){oe(h,t,m),l(t,a),l(a,e),l(e,n),l(e,f),l(e,r),l(e,b),l(e,c),l(e,w),l(e,C),l(e,y),l(e,D),l(e,N),l(e,W),l(a,O),l(a,V),l(V,U),l(V,q),l(a,F),l(a,A),l(a,z),l(a,M),p&&p.m(M,null),G||(B=we(A,"click",s[8]),G=!0)},p(h,[m]){m&16&&I(f,h[4]),m&4&&I(b,h[2]),m&1&&I(w,h[0]),m&8&&I(y,h[3]),m&2&&I(N,h[1]),m&32&&I(q,h[5]),h[7]?p?p.p(h,m):(p=de(h),p.c(),p.m(M,null)):p&&(p.d(1),p=null)},i:fe,o:fe,d(h){h&&d(t),p&&p.d(),G=!1,B()}}}function Ve(s,t,a){let e="",n="",f="",r="",b="",c="",w={},C=[],y=!1;function D(){a(0,e=Q(ke)),a(1,n=Q(Ie)),a(2,f=Q(Se)),a(3,r=Q(ye)),a(4,b=Q(Ce)),a(5,c=Q(Me[n])),w={ray:e,profession:n,faction:f,rarity:r,ori:b},N()}async function N(){a(6,C=await Ne(w)),a(7,y=!0)}return _e(()=>{}),[e,n,f,r,b,c,C,y,D]}class Ue extends Ee{constructor(t){super(),ge(this,t,Ve,Oe,ve,{})}}export{Ue as component};
